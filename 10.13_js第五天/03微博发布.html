<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			*{
				margin: 0;
				padding: 0;
			}
			ul li{
				list-style: none;
			}
			.box {
				margin: 100px auto;
				width: 600px;
				height: auto;
				border: 1px solid #333333;
				padding: 20px 0;
			}
			textarea {
				width: 428px;
				resize: none;
			}
			.box li {
				border-bottom: 1px dashed #666666;
				width: 350px;
				margin-left: 100px;
			}
			a {
				float: right;
			}
		</style>
		<script>
		    window.onload = function (){
		    	var txt = document.getElementsByTagName("textarea")[0];
		    	var btn = document.getElementsByTagName("button")[0];
		    	var ul = document.createElement("ul");
		    	btn.parentNode.appendChild(ul);
		    	btn.onclick = function(){
		    		if(txt.value == ""){
		    			alert("空值");
		    			return false;  //主要作用为退出该方法，副作用为返回值，可以只写return。
		    		}
		    		var newli = document.createElement("li");
		    		newli.innerHTML = txt.value + "<a href = 'javascript:;'>删除</a>";
		    		txt.value = "";     //清空文本域
		    		
		    		var lis = ul.children;
		    		if(lis.length == 0){
		    		   ul.appendChild(newli);   //第一个孩子需要使用appendChild
		    		}else{
		    			ul.insertBefore(newli,lis[0]);   //最新输出的总是在最上面
		    		}
		    		
		    		var as = document.getElementsByTagName("a");
		    		for(var i=0;i<as.length;i++){
		    			as[i].onclick = function(){
		    			   ul.removeChild(this.parentNode);  //删除li
		    			}
		    		}
		    	}
		    }
		</script>
	</head>
	<body>
		<div class="box">
			微博发布：<textarea name="txt" rows="15" cols="25"></textarea> <button>发布</button>

		</div>
	</body>
</html>
