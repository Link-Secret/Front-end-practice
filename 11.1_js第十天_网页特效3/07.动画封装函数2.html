<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			div {
				width: 100px;
				height: 100px;
				position: absolute;
				background-color: pink;
			}
		</style>
		<script>
			window.onload = function() {
		        function $(id) { return document.getElementById(id); }
		        
		        $("btn200").onclick = function() {
		        	animate($("box"),200);  /*盒子移动*/
		        }
		        $("btn400").onclick = function() {
		        	animate($("box"),400); 
		        }
		        
		        function animate(obj,target){	
		        	clearInterval(obj.timer)  /*每次调用都要清除定时器*/
                  var speed = target > obj.offsetLeft ? 5 : -5 ;   /*一开始就判断在目标前面还是后面，来确定加还是减*/
		        	obj.timer = setInterval(function(){
		        		var result = obj.offsetLeft - target;   /*定时器每转动一次就判断与目标的距离*/
		        		obj.style.left = obj.offsetLeft + speed + "px";
		        		if(Math.abs(result) <= 5){            /*如果与目标的距离小于或等于一个步长speed的绝对值，就直接赋值*/
		        		   clearInterval(obj.timer);         /*并且要清除定时器，不再执行*/
		        		   obj.style.left = target + "px"
		        	   }
		        	},20);
		        }
			}
		</script>
	</head>
	<body>
		<button id="btn200">200</button>
		<button id="btn400">400</button>
		<div id="box"></div>
	</body>
</html>

